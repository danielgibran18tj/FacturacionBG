<div class="card shadow-sm border-0">
  <div class="card-header bg-white py-3 d-flex justify-content-between align-items-center">
    <h5 class="m-0 fw-bold">
      <i class="bi bi-people"></i> Clientes
    </h5>

    <button class="btn btn-primary btn-sm" (click)="openCreateCustomer()"
            style="background:#d4145a; border-color:#d4145a;">
      <i class="bi bi-person-plus"></i> Nuevo Cliente
    </button>
  </div>

  <div class="card-body">

    <!-- BÃšSQUEDA -->
    <div class="input-group mb-3">
      <span class="input-group-text bg-light">
        <i class="bi bi-search"></i>
      </span>
      <input [(ngModel)]="searchTerm"
             class="form-control"
             placeholder="Buscar cliente..."
             (keyup.enter)="loadCustomers()">
      <button class="btn btn-outline-primary"
              (click)="loadCustomers()">Buscar</button>
    </div>

    <!-- TABLA -->
    <app-generic-table
      [data]="customers"
      [columns]="customerColumns"
      [actions]="customerActions"
      [totalPages]="totalPages"
      [currentPage]="page"
      (pageChange)="handlePageChange($event)"
      (actionClick)="handleActionClick($event)">
    </app-generic-table>

  </div>
</div>

<app-create-customer-modal
  *ngIf="isCreateModalOpen"
  (close)="isCreateModalOpen = false"
  (created)="loadCustomers()">
</app-create-customer-modal>

<app-edit-customer-modal
  *ngIf="selectedCustomer && showEdit"
  [customer]="selectedCustomer"
  (close)="closeEdit()"
  (saved)="loadCustomers()">
</app-edit-customer-modal>

<!-- MODAL ELIMINAR -->
<app-delete-customer-modal
  *ngIf="showDelete"
  [customer]="selectedCustomer"
  (confirm)="deleteCustomer($event)"
  (close)="showDelete = false">
</app-delete-customer-modal>

